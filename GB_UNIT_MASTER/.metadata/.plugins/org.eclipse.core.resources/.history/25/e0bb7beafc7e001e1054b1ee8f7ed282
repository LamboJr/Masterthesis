#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>

#include "platform.h"
#include "xil_printf.h"
#include "xparameters.h"

#include "structs.h"
#include "constant.h"

#define FrameMask 0xFFFF0000
void decode_Pokemon_data(u16 *Pokemonbuffer){
	struct Pokemon Pokemonstruct;
	Pokemonstruct.personality =Pokemonbuffer[1];
	Pokemonstruct.personality = Pokemonstruct.personality << 16;
	Pokemonstruct.personality = Pokemonstruct.personality + Pokemonbuffer[0];

	Pokemonstruct.trainer_id = Pokemonbuffer[3];
	Pokemonstruct.trainer_id = Pokemonstruct.trainer_id << 16;
	Pokemonstruct.trainer_id = Pokemonstruct.trainer_id + Pokemonbuffer[2];

	//Next is nickname Pokemonbuffer[4]-[8]
}


void decode_Nickname(u16 Characters){





}


#define CC(c , h) case (h): text[i] = (char)(c);break;

bool char_conv( char *text,size_t len, u16 language){
	if(language != LANGUAGE_GERMAN){return false;}
	for(size_t i = 0: i < len; i++){
		switch(text[i]){
	    CC(' ', 0x00);
	    CC('&', 0x2d);
	    CC('+', 0x2e);
	    CC('=', 0x35);
	    CC('%', 0x5b);
	    CC('(', 0x5c);
	    CC(')', 0x5d);
	    CC('0', 0xa1);
	    CC('1', 0xa2);
	    CC('2', 0xa3);
	    CC('3', 0xa4);
	    CC('4', 0xa5);
	    CC('5', 0xa6);
	    CC('6', 0xa7);
	    CC('7', 0xa8);
	    CC('8', 0xa9);
	    CC('9', 0xaa);
	    CC('!', 0xab);
	    CC('?', 0xac);
	    CC('.', 0xad);
	    CC('-', 0xae);
	    CC(',', 0xb8);
	    CC('/', 0xba);
	    CC('A', 0xbb);
	    CC('B', 0xbc);
	    CC('C', 0xbd);
	    CC('D', 0xbe);
	    CC('E', 0xbf);
	    CC('F', 0xc0);
	    CC('G', 0xc1);
	    CC('H', 0xc2);
	    CC('I', 0xc3);
	    CC('J', 0xc4);
	    CC('K', 0xc5);
	    CC('L', 0xc6);
	    CC('M', 0xc7);
	    CC('N', 0xc8);
	    CC('O', 0xc9);
	    CC('P', 0xca);
	    CC('Q', 0xcb);
	    CC('R', 0xcc);
	    CC('S', 0xcd);
	    CC('T', 0xce);
	    CC('U', 0xcf);
	    CC('V', 0xd0);
	    CC('W', 0xd1);
	    CC('X', 0xd2);
	    CC('Y', 0xd3);
	    CC('Z', 0xd4);
	    CC('a', 0xd5);
	    CC('b', 0xd6);
	    CC('c', 0xd7);
	    CC('d', 0xd8);
	    CC('e', 0xd9);
	    CC('f', 0xda);
	    CC('g', 0xdb);
	    CC('h', 0xdc);
	    CC('i', 0xdd);
	    CC('j', 0xde);
	    CC('k', 0xdf);
	    CC('l', 0xe0);
	    CC('m', 0xe1);
	    CC('n', 0xe2);
	    CC('o', 0xe3);
	    CC('p', 0xe4);
	    CC('q', 0xe5);
	    CC('r', 0xe6);
	    CC('s', 0xe7);
	    CC('t', 0xe8);
	    CC('u', 0xe9);
	    CC('v', 0xea);
	    CC('w', 0xeb);
	    CC('x', 0xec);
	    CC('y', 0xed);
	    CC('z', 0xee);
	    CC(':', 0xf0);
	    CC('\n', 0xfe);
	    CC('\0', 0xff);
		default:return false;
		}
		}
		return true;
}
#undef CC


#define CCV(c, h) case (c): text[i] = (char)(h); break
bool pcsconv(char *text, size_t len, uint16_t language) {
  if(language != LANGUAGE_ENGLISH) return false;

  for(size_t i = 0; i < len; i++) {
    switch(text[i]) {
    CCV(' ', 0x00);
    CCV('&', 0x2d);
    CCV('+', 0x2e);
    CCV('=', 0x35);
    CCV('%', 0x5b);
    CCV('(', 0x5c);
    CCV(')', 0x5d);
    CCV('0', 0xa1);
    CCV('1', 0xa2);
    CCV('2', 0xa3);
    CCV('3', 0xa4);
    CCV('4', 0xa5);
    CCV('5', 0xa6);
    CCV('6', 0xa7);
    CCV('7', 0xa8);
    CCV('8', 0xa9);
    CCV('9', 0xaa);
    CCV('!', 0xab);
    CCV('?', 0xac);
    CCV('.', 0xad);
    CCV('-', 0xae);
    CCV(',', 0xb8);
    CCV('/', 0xba);
    CCV('A', 0xbb);
    CCV('B', 0xbc);
    CCV('C', 0xbd);
    CCV('D', 0xbe);
    CCV('E', 0xbf);
    CCV('F', 0xc0);
    CCV('G', 0xc1);
    CCV('H', 0xc2);
    CCV('I', 0xc3);
    CCV('J', 0xc4);
    CCV('K', 0xc5);
    CCV('L', 0xc6);
    CCV('M', 0xc7);
    CCV('N', 0xc8);
    CCV('O', 0xc9);
    CCV('P', 0xca);
    CCV('Q', 0xcb);
    CCV('R', 0xcc);
    CCV('S', 0xcd);
    CCV('T', 0xce);
    CCV('U', 0xcf);
    CCV('V', 0xd0);
    CCV('W', 0xd1);
    CCV('X', 0xd2);
    CCV('Y', 0xd3);
    CCV('Z', 0xd4);
    CCV('a', 0xd5);
    CCV('b', 0xd6);
    CCV('c', 0xd7);
    CCV('d', 0xd8);
    CCV('e', 0xd9);
    CCV('f', 0xda);
    CCV('g', 0xdb);
    CCV('h', 0xdc);
    CCV('i', 0xdd);
    CCV('j', 0xde);
    CCV('k', 0xdf);
    CCV('l', 0xe0);
    CCV('m', 0xe1);
    CCV('n', 0xe2);
    CCV('o', 0xe3);
    CCV('p', 0xe4);
    CCV('q', 0xe5);
    CCV('r', 0xe6);
    CCV('s', 0xe7);
    CCV('t', 0xe8);
    CCV('u', 0xe9);
    CCV('v', 0xea);
    CCV('w', 0xeb);
    CCV('x', 0xec);
    CCV('y', 0xed);
    CCV('z', 0xee);
    CCV(':', 0xf0);
    CCV('\n', 0xfe);
    CCV('\0', 0xff);
    default:
      return false;
    }
  }

  return true;
}
#undef CCV
